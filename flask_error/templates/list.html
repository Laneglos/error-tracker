{% extends 'base.html' %}
{% block content_block %}
	{% if error %}
		<h1 class="text-center alert alert-danger">{{ error }}</h1>
	{% else %}
		<h2 class="text-center">Errors Seen</h2>

		<table class="table table-condensed">
			<thead>
			<tr>
				<th>Host</th>
				<th>Path</th>
				<th>Method</th>
				<th>Last seen</th>
				<th>Occurrences</th>
				<th>Action</th>
			</tr>
			</thead>
			<tbody>
			{% for error in errors %}
				<tr>
					<td>{{ error.host }}</td>
					<td>
						<a class="view-link" href="{{ url_for('app_error.view_detail', rhash=error
						.hash) }}">
							{{ error.path }}
						</a>
					</td>
					<td>{{ error.method }}</td>
					<td>{{ error.last_seen }}</td>
					<td>{{ error.count }}</td>
					<td>
						<a href="{{ url_for('app_error.view_delete', rhash=error.hash) }}" class="delete btn btn-danger btn-sm">Delete</a>
					</td>
				</tr>
			{% endfor %}
			</tbody>
		</table>
	{% endif %}
{% endblock %}